<app-titel>Account erstellen</app-titel>
<form [formGroup]="form" (ngSubmit)="form.valid && onSubmit()">
  <div class="container is-max-desktop p-5 mt-5">

    <!-- Input-NAME -->

    <div class="field form-group">
      <label class="label">Name</label>
      <div class="control has-icons-left block">
        <input class="input is-info form-control" type="text" placeholder="Name" formControlName="name"
          [ngClass]="{ 'is-danger': form.get('name').touched && form.get('name').invalid }">
        <span class="icon is-small is-left">
          <i class="fas fa-user"></i>
        </span>
      </div>
    </div>

    <!-- Error-NAME -->

    <div class="error" *ngIf="form.get('name').touched && form.get('name').invalid">

      <div *ngIf="form.get('name').errors.required">
        Benutzername darf nicht leer sein
        <span class="icon is-small is-left">
          <i class="fas fa-exclamation-triangle"></i>
        </span>
      </div>

      <div *ngIf="form.get('name').errors.minlength">
        Benutzername muss mind. 3 Zeichen enthalten
      </div>

    </div>

    <!-- Input-EMAIL -->

    <div class="field form-group">
      <label class="label">Email</label>
      <div class="control has-icons-left block">
        <input class="input is-info form-control" type="email" placeholder="Email " formControlName="email"
          [ngClass]="{ 'is-danger': form.get('email').touched && form.get('email').invalid }">
        <span class="icon is-small is-left">
          <i class="fas fa-envelope"></i>
        </span>
      </div>
    </div>

    <!-- Error-EMAIL -->

    <div class="error" *ngIf="form.get('email').touched && form.get('email').invalid">

      <div *ngIf="form.get('email').errors.required">
        Email darf nicht leer sein
        <span class="icon is-small is-left">
          <i class="fas fa-exclamation-triangle"></i>
        </span>
      </div>

      <div *ngIf="form.get('email').errors.email">
        Keine korrekte Email-Syntax
      </div>

    </div>

    <!-- Input-PASSWORT -->

    <div class="field form-group">
      <label class="label">Passwort</label>
      <div class="control has-icons-left block">
        <input class="input is-info form-control" type="password" placeholder="Passwort" formControlName="passwort"
          [ngClass]="{ 'is-danger': form.get('passwort').touched && form.get('passwort').invalid }">
        <span class="icon is-small is-left">
          <i class="fas fa-key"></i>
        </span>
      </div>
    </div>

    <!-- Error-PASSWORT -->

    <div class="error" *ngIf="form.get('passwort').touched && form.get('passwort').invalid">

      <div *ngIf="form.get('passwort').errors.required">
        Passwort darf nicht leer sein
        <span class="icon is-small is-left">
          <i class="fas fa-exclamation-triangle"></i>
        </span>
      </div>

      <div *ngIf="form.get('passwort').errors.minlength">
        Passwort muss mind. 6 Zeichen enthalten
      </div>

    </div>

    <!-- Input-GEBURTSDATUM -->

    <div class="field form-group">
      <label class="label">Geburtsdatum</label>
      <div class="control has-icons-left block">
        <input class="input is-info form-control" type="date" placeholder="Geburtsdatum" formControlName="geburtsdatum"
          [ngClass]="{ 'is-danger': form.get('geburtsdatum').touched && form.get('geburtsdatum').invalid }">
        <span class="icon is-small is-left">
          <i class="fas fa-calendar-alt"></i>
        </span>
      </div>
    </div>

    <!-- Error-GEBURTSDATUM -->

    <div class="error" *ngIf="form.get('geburtsdatum').touched && form.get('geburtsdatum').invalid">

      <div *ngIf="form.get('geburtsdatum').errors.required">
        Geburtsdatum darf nicht leer sein
        <span class="icon is-small is-left">
          <i class="fas fa-exclamation-triangle"></i>
        </span>
      </div>

    </div>



    <!-- BUTTONS -->

    <div class="field is-grouped buttons">
      <div class="control block">
        <button type="submit" [disabled]="!form.valid" class="button is-success">Account erstellen</button>
      </div>
      <div class="control block">
        <button routerLink='/Startseite' class="button is-link is-light">Abbrechen</button>
      </div>
    </div>

  </div>
</form>
