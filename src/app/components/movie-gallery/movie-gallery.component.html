<!-------------------------------------------------------------------------------------------- || Filme Suchen || -->

<div class="width70 mt-3">
  <div class="title has-text-grey-light">Film suchen</div>
  <p class="control has-icons-left">
    <input
      type="text"
      class="input is-dark"
      placeholder="Film suchen..."
      [(ngModel)]="search"
    />
    <span class="icon is-small is-left">
      <i class="fas fa-search"></i>
    </span>
  </p>
</div>

<div class="width70 mt-4">
  <div class="title has-text-grey-light">Nach Genre filtern</div>

  <app-genre-filter-button
    [genreName]="'Action'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Abenteuer'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Animation'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Drama'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Horror'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Komödie'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Krimi'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Liebe'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Science-Fiction'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Thriller'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Western'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
  <app-genre-filter-button
    [genreName]="'Fantasy'"
    [color]="'is-primary'"
  ></app-genre-filter-button>
</div>

<div class="width70 mt-3">
  <app-genre-filter-button
    [genreName]="'reset'"
    [color]="'is-danger'"
  ></app-genre-filter-button>
</div>

<div
  class="width70 title has-text-grey-light mt-4"
  *ngIf="getGenreBoolean() && filteredFilme().length > 0"
>
  {{ filteredFilme()[0].genre }} Filme
</div>

<div class="width70 title has-text-grey-light mt-4" *ngIf="!getGenreBoolean()">
  Alle Filme
</div>

<!-- Container: Movie-Galerie || START || -->

<div class="grid mt-4">
  <!--  <h1>{{ genreFilteredMovies[0].genre }} Filme</h1>-->

  <figure class="figure mb-6" *ngFor="let movie of filteredFilme()">
    <div class="images" [routerLink]="['/Details/', movie.movie_id]">
      <img [src]="movie.image" [alt]="movie.title" />
    </div>

    <figcaption>
      <div class="titel">
        <h2>{{ movie.title }}</h2>
      </div>

      <div class="buttons" *ngIf="!checkFSK(user.date_of_birth, movie.fsk)">
        <button
          *ngIf="!isAdmin"
          [routerLink]="['/Details/', movie.movie_id]"
          class="button is-info"
        >
          Details
        </button>
        <button
          *ngIf="!isAdmin"
          [routerLink]="['/Tickets/', movie.movie_id]"
          class="button is-info"
          [disabled]="checkFSK(user.date_of_birth, movie.fsk)"
        >
          Tickets
        </button>

        <button
          *ngIf="isAdmin"
          [routerLink]="['/Film_Bearbeiten', movie.movie_id]"
          class="button is-inf"
        >
          bearbeiten
        </button>
        <button
          *ngIf="isAdmin"
          (click)="deleteMovie(movie.movie_id)"
          class="button is-danger"
        >
          löschen
        </button>
      </div>
      <div
        class="tooYoung is-danger mt-5"
        *ngIf="checkFSK(user.date_of_birth, movie.fsk)"
      >
        <span class="error">Du bist zu Jung für diesen Film, sorry !</span>
      </div>
    </figcaption>
  </figure>

  <!--  Container: Movie-Galerie || ENDE || -->
</div>

<div class="width70 mt-4" *ngIf="!filteredFilme().length">
  Derzeit gibt es keine Filme mit Ihren gewünschten Genre!
</div>
